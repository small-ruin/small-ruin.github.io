var Ie=Object.defineProperty,Ae=Object.defineProperties;var Oe=Object.getOwnPropertyDescriptors;var fe=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable;var Y=(r,e,a)=>e in r?Ie(r,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[e]=a,ue=(r,e)=>{for(var a in e||(e={}))ye.call(e,a)&&Y(r,a,e[a]);if(fe)for(var a of fe(e))De.call(e,a)&&Y(r,a,e[a]);return r},Se=(r,e)=>Ae(r,Oe(e));var s=(r,e,a)=>(Y(r,typeof e!="symbol"?e+"":e,a),a);const Re=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))f(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const S of c.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&f(S)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function f(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}};Re();function he(r){const e={};return r.forEach(a=>e[a.value]=a.label),e}const Ce=[{value:"LG",label:"\u5B88\u5E8F\u5584\u826F"},{value:"NG",label:"\u4E2D\u7ACB\u5584\u826F"},{value:"CG",label:"\u6DF7\u4E71\u5584\u826F"},{value:"LN",label:"\u5B88\u5E8F\u4E2D\u7ACB"},{value:"NN",label:"\u7EDD\u5BF9\u4E2D\u7ACB"},{value:"CN",label:"\u6DF7\u4E71\u4E2D\u7ACB"},{value:"LE",label:"\u5B88\u5E8F\u90AA\u6076"},{value:"NE",label:"\u4E2D\u7ACB\u90AA\u6076"},{value:"CE",label:"\u6DF7\u4E71\u90AA\u6076"}],We=he(Ce),Le=[{value:"fine",label:"\u8D85\u5FAE\u578B"},{value:"diminutive",label:"\u5FAE\u578B"},{value:"tiny",label:"\u8D85\u5C0F\u578B"},{value:"small",label:"\u5C0F\u578B"},{value:"medium",label:"\u4E2D\u578B"},{value:"large",label:"\u5927\u578B"},{value:"huge",label:"\u8D85\u5927\u578B"},{value:"gargantuan",label:"\u5DE8\u578B"},{value:"colossal",label:"\u8D85\u5DE8\u578B"}],Ke=he(Le),Me={fine:-4,diminutive:-3,tiny:-2,small:-1,medium:0,large:1,huge:2,gargantuan:3,colossal:4},t={STR:"STRENGTH",DEX:"DEXTERITY",CON:"CONSTITUTION",INT:"INTELLIGENCE",WIS:"WISDOM",CHA:"CHARISMA"},He={[t.STR]:"\u529B\u91CF",[t.DEX]:"\u654F\u6377",[t.CON]:"\u4F53\u8D28",[t.INT]:"\u667A\u529B",[t.WIS]:"\u611F\u77E5",[t.CHA]:"\u9B45\u529B"};class l{constructor(e,a,f,{sub:o,subs:c,armor:S=!1}={}){this.name=e,this.baseAbility=a,this.canUseUntrained=f,this.sub=o,this.subs=c,this.armor=S}getPoint(e,{point:a=0,other:f=0},o,c=0){return!this.canUseUntrained&&a===0?"-":(o||(a=Math.floor(a/2)),a+=e[this.baseAbility]||0,a+=f,c&&(a-=c*this.armor),a)}}const n={STRONG:"STRONG",WEAK:"WEAK"},Ue={STRONG:1,MIDDLE:.75,WEAK:.5};class h{constructor(e,{hitDice:a,fortSave:f,refSave:o,willSave:c,bab:S,skills:z,skillPointsEachLevel:B,isCustom:x=!1}){this.name=e,this.hitDice=a,this.fortSave=f,this.refSave=o,this.willSave=c,this.bab=S,this.skills=z,this.skillPointsEachLevel=B,this.isCustom=x}toString(){return this.name}}const $=new l("\u4F30\u4EF7",t.INT,!0),L=new l("\u5E73\u8861",t.DEX,!0,{armor:1}),K=new l("\u552C\u9A97",t.CHA,!0),m=new l("\u6500\u722C",t.STR,!0,{armor:1}),v=new l("\u4E13\u6CE8",t.CON,!0),u=new l("\u624B\u827A",t.INT,!0),G=new l("\u6587\u4EF6\u89E3\u8BFB",t.INT,!1),d=new l("\u4EA4\u6D89",t.CHA,!0),we=new l("\u89E3\u9664\u88C5\u7F6E",t.INT,!1),q=new l("\u6613\u5BB9",t.CHA,!0),P=new l("\u9003\u8131\u672F",t.DEX,!0,{armor:1}),ve=new l("\u4F2A\u9020\u6587\u4E66",t.INT,!0),J=new l("\u641C\u96C6\u4FE1\u606F",t.CHA,!0),T=new l("\u9A6F\u517B\u52A8\u7269",t.CHA,!1),k=new l("\u533B\u7597",t.WIS,!0),I=new l("\u8EB2\u85CF",t.DEX,!0,{armor:!0}),M=new l("\u5A01\u5413",t.CHA,!0),g=new l("\u8DF3\u8DC3",t.STR,!0),A=new l("\u77E5\u8BC6(\u795E\u79D8)",t.INT,!1),be=new l("\u77E5\u8BC6(\u5EFA\u7B51\u4E0E\u5DE5\u7A0B)",t.INT,!1),Q=new l("\u77E5\u8BC6(\u5730\u4E0B\u57CE)",t.INT,!1),V=new l("\u77E5\u8BC6(\u5730\u7406)",t.INT,!1),Z=new l("\u77E5\u8BC6(\u5386\u53F2)",t.INT,!1),_=new l("\u77E5\u8BC6(\u5730\u65B9)",t.INT,!1),H=new l("\u77E5\u8BC6(\u81EA\u7136)",t.INT,!1),ee=new l("\u77E5\u8BC6(\u8D35\u65CF\u4E0E\u7687\u5BA4)",t.INT,!1),O=new l("\u77E5\u8BC6(\u5B97\u6559)",t.INT,!1),te=new l("\u77E5\u8BC6(\u4F4D\u9762)",t.INT,!1),E=new l("\u8046\u542C",t.WIS,!0),y=new l("\u6F5C\u884C",t.DEX,!0,{armor:1}),me=new l("\u5F00\u9501",t.DEX,!1),U=new l("\u8868\u6F14",t.CHA,!0),w=new l("\u4E13\u4E1A",t.WIS,!1),p=new l("\u9A91\u672F",t.DEX,!0),se=new l("\u641C\u7D22",t.INT,!0),D=new l("\u5BDF\u8A00\u89C2\u8272",t.WIS,!0),le=new l("\u624B\u4E0A\u529F\u592B",t.DEX,!1,{armor:1}),de=new l("\u8BED\u8A00",null,!1),R=new l("\u8FA8\u8BC6\u6CD5\u672F",t.INT,!1),C=new l("\u4FA6\u5BDF",t.WIS,!0),X=new l("\u751F\u5B58",t.WIS,!0),b=new l("\u6E38\u6CF3",t.STR,!0,{armor:2}),j=new l("\u7FFB\u6EDA",t.DEX,!1,{armor:1}),ae=new l("\u4F7F\u7528\u9B54\u6CD5\u88C5\u7F6E",t.CHA,!1),ie=new l("\u7EF3\u6280",t.DEX,!0),ge=[A,be,Q,V,Z,_,H,ee,te,O],ne=[$,L,K,m,v,u,G,d,we,q,P,ve,J,T,k,I,M,g,A,be,Q,V,Z,_,H,ee,O,te,E,y,me,U,w,p,se,D,le,de,R,C,X,b,j,ae,ie];ne.filter(r=>r.canUseUntrained).map(r=>r.name);const Ee={};ne.forEach(r=>Ee[r.name]=r);const Ne=Ee,Ge={barbarian:new h("\u91CE\u86EE\u4EBA",{hitDice:12,fortSave:n.STRONG,refSave:n.WEAK,willSave:n.WEAK,bab:1,skills:[m,u,T,M,g,E,p,X,b],skillPointsEachLevel:4}),bard:new h("\u541F\u6E38\u8BD7\u4EBA",{hitDice:6,fortSave:n.WEAK,refSave:n.STRONG,willSave:n.STRONG,bab:.75,skills:[$,L,K,m,v,u,G,d,q,P,J,I,g,E,y,U,w,D,le,de,R,b,j,ae,...ge],skillPointsEachLevel:6}),circle:new h("\u7267\u5E08",{hitDice:8,fortSave:n.STRONG,refSave:n.WEAK,willSave:n.STRONG,bab:.75,skills:[v,u,d,k,A,Z,O,te,w,R],skillPointsEachLevel:2}),druid:new h("\u5FB7\u9C81\u4F0A",{hitDice:8,fortSave:n.STRONG,refSave:n.WEAK,willSave:n.STRONG,bab:.75,skills:[v,u,d,T,k,H,E,w,p,R,C,X,b],skillPointsEachLevel:4}),fighter:new h("\u6218\u58EB",{hitDice:10,fortSave:n.STRONG,refSave:n.WEAK,willSave:n.WEAK,bab:1,skills:[m,u,T,M,g,p,b],skillPointsEachLevel:2}),monk:new h("\u6B66\u50E7",{hitDice:8,fortSave:n.STRONG,refSave:n.STRONG,willSave:n.STRONG,bab:.75,skillPointsEachLevel:4,skills:[L,m,v,u,d,P,I,g,A,O,E,y,U,w,D,C,b,j]}),paladin:new h("\u5723\u6B66\u58EB",{hitDice:10,fortSave:n.STRONG,refSave:n.WEAK,willSave:n.WEAK,bab:1,skills:[v,u,d,T,k,ee,O,w,p,D],skillPointsEachLevel:2}),ranger:new h("\u5DE1\u6797\u5BA2",{hitDice:8,fortSave:n.STRONG,refSave:n.STRONG,willSave:n.WEAK,bab:1,skillPointsEachLevel:6,skills:[m,v,u,T,k,I,g,Q,V,H,E,y,w,p,se,C,X,b,ie]}),rouge:new h("\u6E38\u8361\u8005",{hitDice:6,fortSave:n.WEAK,refSave:n.STRONG,willSave:n.WEAK,bab:.75,skillPointsEachLevel:8,skills:[$,L,K,m,u,G,d,we,q,P,ve,J,I,M,g,_,E,y,me,U,w,se,D,le,C,b,j,ae,ie]}),sorcerer:new h("\u672F\u58EB",{hitDice:4,fortSave:n.WEAK,refSave:n.WEAK,willSave:n.STRONG,bab:.5,skillPointsEachLevel:2,skills:[K,v,u,A,w,R]}),wizard:new h("\u6CD5\u5E08",{hitDice:4,fortSave:n.WEAK,refSave:n.WEAK,willSave:n.STRONG,bab:.5,skillPointsEachLevel:2,skills:[v,u,G,...ge,w]})};function Xe(r){return Object.values(Ge).find(e=>e.name===r)}class N{constructor(e){s(this,"base",10);s(this,"race",0);s(this,"other",0);this.name=e}get ability(){return this.base+this.race+this.other}get modify(){return Math.floor((this.ability-10)/2)}print(){return{name:this.name,base:this.base,race:this.race,other:this.other,ability:this.ability,modify:this.modify}}inject({base:e,race:a,other:f}){this.base=e,this.race=a,this.other=f}}class je{constructor(){s(this,"race",null);s(this,"align",null);s(this,"size","medium");s(this,"level",0);s(this,"classHitPoint",0);s(this,"height",5);s(this,"selfWeight",100);s(this,"STRENGTH",new N(t.STR));s(this,"DEXTERITY",new N(t.DEX));s(this,"CONSTITUTION",new N(t.CON));s(this,"INTELLIGENCE",new N(t.INT));s(this,"WISDOM",new N(t.WIS));s(this,"CHARISMA",new N(t.CHA));s(this,"skillPoints",0);s(this,"raceSkillPoint",0);s(this,"usedSkillPoints",0);s(this,"levelUpExp",0);s(this,"weightLimit",[]);s(this,"coinWeight",0);s(this,"weight",0);s(this,"weightDetail","\u8F7B\u8F7D");s(this,"skills",{});s(this,"classSkills",{});s(this,"armorSkillModify",0);s(this,"class",[{level:1}]);s(this,"customClass",[]);s(this,"fates",[{}]);s(this,"items",[{}]);s(this,"spells",[{}]);s(this,"pp",0);s(this,"gp",0);s(this,"sp",0);s(this,"cp",0);s(this,"exp",0);s(this,"hitPoint",0);s(this,"fortSave",0);s(this,"otherFortSave",0);s(this,"refSave",0);s(this,"otherRefSave",0);s(this,"willSave",0);s(this,"otherWillSave",0);s(this,"bab",0);s(this,"ac",{armor:0,dex:0,other:0});s(this,"attacks",[{}]);s(this,"armors",[{}]);s(this,"traits",[{}]);s(this,"init",0);s(this,"otherInit",0);s(this,"grab",0);s(this,"otherGrab",0);s(this,"speed",30);s(this,"runSpeed",120);ne.forEach(e=>this.skills[e.name]={point:0,other:0})}set(e,a){this[e]=a}print(){const e=Object.assign({},this),{align:a,size:f,traits:o,fates:c,skills:S,classSkills:z,abilityModifiers:B,armorSkillModify:x,items:re,weightLimit:F,attacks:Te,armors:pe,spells:ke}=e;return a&&(e.align=We[a]),f&&(e.size=Ke[f]),e.fates=c.filter(i=>i.name||i.describe),e.traits=o.filter(i=>i.name||i.describe),e.attacks=Te.filter(i=>i.name||i.describe),e.armors=pe.filter(i=>i.name||i.describe),e.class=e.class.filter(i=>i.name),e.class=e.class.map(i=>`${i.name}*${i.level}`).join(" | "),e.items=re.filter(i=>i.name),e.magicItems=re.filter(i=>i.remark),e.skills=Object.keys(S).map(i=>{var ce;const W=Ne[i],oe=i in(z||{});return Se(ue({name:i},S[i]),{isClassSkill:oe?"\u221A":"",canUseUntrained:W.canUseUntrained?"":"*",modify:(ce=this[Ne[i].baseAbility])==null?void 0:ce.modify,total:W.getPoint(B||{},S[i],oe,x)})}),e.weightLimit=[F[0],F[1]+1,F[2]+1],e.spells=ke.filter(i=>i.spell).map((i,W)=>({name:W+"\u73AF",spell:i.spell})),Object.values(t).forEach(i=>{e[i]=e[i].print()}),e}import(e){Object.values(t).forEach(a=>{const f=e[a];e[a]=new N(a),e[a].inject(f)}),Object.assign(this,e)}}export{He as A,Ue as B,h as C,n as S,ne as a,Ce as b,Ge as c,Me as d,je as e,Xe as g,Le as s};
