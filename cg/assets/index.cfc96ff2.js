var oe=Object.defineProperty,ne=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var P=(r,a,n)=>a in r?oe(r,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[a]=n,ee=(r,a)=>{for(var n in a||(a={}))ie.call(a,n)&&P(r,n,a[n]);if(Q)for(var n of Q(a))re.call(a,n)&&P(r,n,a[n]);return r},te=(r,a)=>ne(r,se(a));var u=(r,a,n)=>(P(r,typeof a!="symbol"?a+"":a,n),n);import{i as isObject,m as message,c as computed,r as ref,a as resolveComponent,o as openBlock,b as createElementBlock,d as createBaseVNode,e as createVNode,w as withCtx,F as Fragment,f as renderList,u as unref,g as createCommentVNode,h as createTextVNode,t as toDisplayString,j as watchEffect,k as createBlock,n as nextTick,l as watch,L as LZUTF8,p as createApp,A as AutoComplete,B as Button,I as Input,q as Form,S as Select,C as Collapse,M as Modal,s as Checkbox,v as InputNumber,P as Popconfirm}from"./vendor.0510c6ed.js";const p=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const d of s)if(d.type==="childList")for(const S of d.addedNodes)S.tagName==="LINK"&&S.rel==="modulepreload"&&e(S)}).observe(document,{childList:!0,subtree:!0});function n(s){const d={};return s.integrity&&(d.integrity=s.integrity),s.referrerpolicy&&(d.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?d.credentials="include":s.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function e(s){if(s.ep)return;s.ep=!0;const d=n(s);fetch(s.href,d)}};p();class Template{constructor(r,a={}){u(this,"allVars",new Set);u(this,"loopVars",new Set);u(this,"buffered",[]);u(this,"opsStack",[]);this.text=r,this.context=a}parseT(r){r&&r instanceof Object&&(this.context=r);const a=new CodeBuilder;this.code=a,a.addFunction("render","doDots"),a.startBlock();const n=a.addSection();a.addLine("var result = []");const e=this.text.split(/({{.*?}}|{%.*?%}|{#.*?#})/g);for(let s of e)if(!/^\{#/.exec(s))if(/^\{\{/.exec(s)){const d=this.exprCode(s.substring(2,s.length-2).trim());this.buffered.push(d)}else if(/^\{\%/.exec(s)){this.flushOutput();const d=s.substring(2,s.length-2).split(" ").filter(S=>S);if(d[0]==="if")this.opsStack.push("if"),a.addIf(this.exprCode(d[1])),a.startBlock();else if(d[0]==="for"){if(d.length!==4||d[2]!=="in")throw new Error("Don't understand for:"+s);this.opsStack.push("for"),this.loopVars.add(d[1]),a.addFor("c_"+d[1],this.exprCode(d[3])),a.startBlock()}else if(/^end/.exec(d[0])){if(d.length!==1)throw new Error("Don't understand end:"+s);const S=d[0].substring(3);if(this.opsStack.length===0)throw new Error("Too many ends:"+s);if(this.opsStack.pop()!==S)throw new Error("Mismatched end tag:"+S);a.endBlock()}else throw new Error("Don't understand tag:"+d[0])}else s&&this.buffered.push(this._formatStr(s));if(this.flushOutput(),this.opsStack.length>0)throw new Error("Unmatched action tag:"+this.opsStack.pop());Array.from(this.allVars.keys()).forEach(s=>{if(!this.loopVars.has(s)){let d;this.context[s]instanceof Function?d=this.context[s]:this.context instanceof Object?d=JSON.stringify(this.context[s]):d=this.context[s],n.addLine(`var c_${s}=${d}`)}}),a.addLine('return result.join("")'),a.endBlock()}render(ctx){return this.parseT(ctx),eval("("+this.code.getCode()+`)(
            function doDots(dic, ...dots) {
                let v;
                dots.forEach(d => {
                    v = dic[d]
                })
                return v
            }
        )`)}exprCode(r){let a;if(r.includes("|")){const n=r.split("|");a=this.exprCode(n[0]),n.slice(1).forEach(e=>{this._variable(e),a=`c_${e}(${a})`})}else if(r.includes(".")){let n=r.split(".");a=this.exprCode(n[0]);const e=n.splice(1).map(s=>this._formatStr(s)).join(",");a=`doDots(${a},${e})`}else this._variable(r),a="c_"+r;return a}flushOutput(){this.buffered.length===1?this.code.addLine(`result.push(${this.buffered[0]})`):this.buffered.length>1&&this.code.addLine(`result = result.concat([${this.buffered.join(",")}])`),this.buffered=[]}_variable(r){if(!/^[_a-zA-Z][_a-zA-Z0-9]*$/.exec(r))throw new Error("Not a valid name:"+r);this.allVars.add(r)}_formatStr(r){return r.replace("`","\\`"),`\`${r}\``}}class CodeBuilder{constructor(){u(this,"code",[])}startBlock(){this.code.push("{")}endBlock(){this.code.push("}")}addSection(){const a=new CodeBuilder;return this.code.push(a),a}toString(){return this.code.join("")}addFunction(a,n){this.code.push(`function ${a} (${n||""})`)}addIf(a){this.code.push(`if (${a})`)}addFor(a,n){this.code.push(`for (let ${a} of ${n})`)}addLine(a){this.code.push(a),this.code.push(`;
`)}getCode(){return this.code.join("")}}function gMap(r){const a={};return r.forEach(n=>a[n.value]=n.label),a}const aligns=[{value:"LG",label:"\u5B88\u5E8F\u5584\u826F"},{value:"NG",label:"\u4E2D\u7ACB\u5584\u826F"},{value:"CG",label:"\u6DF7\u4E71\u5584\u826F"},{value:"LN",label:"\u5B88\u5E8F\u4E2D\u7ACB"},{value:"NN",label:"\u7EDD\u5BF9\u4E2D\u7ACB"},{value:"CN",label:"\u6DF7\u4E71\u4E2D\u7ACB"},{value:"LE",label:"\u5B88\u5E8F\u90AA\u6076"},{value:"NE",label:"\u4E2D\u7ACB\u90AA\u6076"},{value:"CE",label:"\u6DF7\u4E71\u90AA\u6076"}],alignMap=gMap(aligns),sizes=[{value:"fine",label:"\u8D85\u5FAE\u578B"},{value:"diminutive",label:"\u5FAE\u578B"},{value:"tiny",label:"\u8D85\u5C0F\u578B"},{value:"small",label:"\u5C0F\u578B"},{value:"medium",label:"\u4E2D\u578B"},{value:"large",label:"\u5927\u578B"},{value:"huge",label:"\u8D85\u5927\u578B"},{value:"gargantuan",label:"\u5DE8\u578B"},{value:"colossal",label:"\u8D85\u5DE8\u578B"}],sizeMap=gMap(sizes),sizeModifyMap={fine:-4,diminutive:-3,tiny:-2,small:-1,medium:0,large:1,huge:2,gargantuan:3,colossal:4},Abilities={STR:"STRENGTH",DEX:"DEXTERITY",CON:"CONSTITUTION",INT:"INTELLIGENCE",WIS:"WISDOM",CHA:"CHARISMA"},AbilityNameMap={[Abilities.STR]:"\u529B\u91CF",[Abilities.DEX]:"\u654F\u6377",[Abilities.CON]:"\u4F53\u8D28",[Abilities.INT]:"\u667A\u529B",[Abilities.WIS]:"\u611F\u77E5",[Abilities.CHA]:"\u9B45\u529B"};class Skill{constructor(a,n,e,{sub:s,subs:d,armor:S=!1}={}){this.name=a,this.baseAbility=n,this.canUseUntrained=e,this.sub=s,this.subs=d,this.armor=S}getPoint(a,{point:n=0,other:e=0},s,d=0){return!this.canUseUntrained&&n===0?"-":(s||(n=Math.floor(n/2)),n+=a[this.baseAbility]||0,n+=e,d&&(n-=d*this.armor),n)}}const SaveType={STRONG:"STRONG",WEAK:"WEAK"},BabType={STRONG:1,MIDDLE:.75,WEAK:.5};class Class{constructor(a,{hitDice:n,fortSave:e,refSave:s,willSave:d,bab:S,skills:T,skillPointsEachLevel:V,isCustom:y=!1}){this.name=a,this.hitDice=n,this.fortSave=e,this.refSave=s,this.willSave=d,this.bab=S,this.skills=T,this.skillPointsEachLevel=V,this.isCustom=y}toString(){return this.name}}const Appraise=new Skill("\u4F30\u4EF7",Abilities.INT,!0),Balance=new Skill("\u5E73\u8861",Abilities.DEX,!0,{armor:1}),Bluff=new Skill("\u552C\u9A97",Abilities.CHA,!0),Climb=new Skill("\u6500\u722C",Abilities.STR,!0,{armor:1}),Concentration=new Skill("\u4E13\u6CE8",Abilities.CON,!0),Craft=new Skill("\u624B\u827A",Abilities.INT,!0),DecipherScript=new Skill("\u6587\u4EF6\u89E3\u8BFB",Abilities.INT,!1),Diplomacy=new Skill("\u4EA4\u6D89",Abilities.CHA,!0),DisableDevice=new Skill("\u89E3\u9664\u88C5\u7F6E",Abilities.INT,!1),Disguise=new Skill("\u6613\u5BB9",Abilities.CHA,!0),EscapeArtist=new Skill("\u9003\u8131\u672F",Abilities.DEX,!0,{armor:1}),Forgery=new Skill("\u4F2A\u9020\u6587\u4E66",Abilities.INT,!0),GatherInformation=new Skill("\u641C\u96C6\u4FE1\u606F",Abilities.CHA,!0),HandleAnimal=new Skill("\u9A6F\u517B\u52A8\u7269",Abilities.CHA,!1),Heal=new Skill("\u533B\u7597",Abilities.WIS,!0),Hide=new Skill("\u8EB2\u85CF",Abilities.DEX,!0,{armor:!0}),Intimidate=new Skill("\u5A01\u5413",Abilities.CHA,!0),Jump=new Skill("\u8DF3\u8DC3",Abilities.STR,!0),ArcanaKnowledge=new Skill("\u77E5\u8BC6(\u795E\u79D8)",Abilities.INT,!1),ArchitectureKnowledge=new Skill("\u77E5\u8BC6(\u5EFA\u7B51\u4E0E\u5DE5\u7A0B)",Abilities.INT,!1),DungeoneeringKnowledge=new Skill("\u77E5\u8BC6(\u5730\u4E0B\u57CE)",Abilities.INT,!1),GeographyKnowledge=new Skill("\u77E5\u8BC6(\u5730\u7406)",Abilities.INT,!1),HistoryKnowledge=new Skill("\u77E5\u8BC6(\u5386\u53F2)",Abilities.INT,!1),LocalKnowledge=new Skill("\u77E5\u8BC6(\u5730\u65B9)",Abilities.INT,!1),NatureKnowledge=new Skill("\u77E5\u8BC6(\u81EA\u7136)",Abilities.INT,!1),RoyalKnowledge=new Skill("\u77E5\u8BC6(\u8D35\u65CF\u4E0E\u7687\u5BA4)",Abilities.INT,!1),ReligionKnowledge=new Skill("\u77E5\u8BC6(\u5B97\u6559)",Abilities.INT,!1),PlaneKnowledge=new Skill("\u77E5\u8BC6(\u4F4D\u9762)",Abilities.INT,!1),Listen=new Skill("\u8046\u542C",Abilities.WIS,!0),MoveSilently=new Skill("\u6F5C\u884C",Abilities.DEX,!0,{armor:1}),OpenLock=new Skill("\u5F00\u9501",Abilities.DEX,!1),Perform=new Skill("\u8868\u6F14",Abilities.CHA,!0),Profession=new Skill("\u4E13\u4E1A",Abilities.WIS,!1),Ride=new Skill("\u9A91\u672F",Abilities.DEX,!0),Search=new Skill("\u641C\u7D22",Abilities.INT,!0),SenseMotive=new Skill("\u5BDF\u8A00\u89C2\u8272",Abilities.WIS,!0),SleightOfHand=new Skill("\u624B\u4E0A\u529F\u592B",Abilities.DEX,!1,{armor:1}),SpeakLanguage=new Skill("\u8BED\u8A00",null,!1),Spellcraft=new Skill("\u8FA8\u8BC6\u6CD5\u672F",Abilities.INT,!1),Spot=new Skill("\u4FA6\u5BDF",Abilities.WIS,!0),Survival=new Skill("\u751F\u5B58",Abilities.WIS,!0),Swim=new Skill("\u6E38\u6CF3",Abilities.STR,!0,{armor:2}),Tumble=new Skill("\u7FFB\u6EDA",Abilities.DEX,!1,{armor:1}),UseMagicDevice=new Skill("\u4F7F\u7528\u9B54\u6CD5\u88C5\u7F6E",Abilities.CHA,!1),UseRope=new Skill("\u7EF3\u6280",Abilities.DEX,!0),allKnowledges=[ArcanaKnowledge,ArchitectureKnowledge,DungeoneeringKnowledge,GeographyKnowledge,HistoryKnowledge,LocalKnowledge,NatureKnowledge,RoyalKnowledge,PlaneKnowledge,ReligionKnowledge],allSkills=[Appraise,Balance,Bluff,Climb,Concentration,Craft,DecipherScript,Diplomacy,DisableDevice,Disguise,EscapeArtist,Forgery,GatherInformation,HandleAnimal,Heal,Hide,Intimidate,Jump,ArcanaKnowledge,ArchitectureKnowledge,DungeoneeringKnowledge,GeographyKnowledge,HistoryKnowledge,LocalKnowledge,NatureKnowledge,RoyalKnowledge,ReligionKnowledge,PlaneKnowledge,Listen,MoveSilently,OpenLock,Perform,Profession,Ride,Search,SenseMotive,SleightOfHand,SpeakLanguage,Spellcraft,Spot,Survival,Swim,Tumble,UseMagicDevice,UseRope];allSkills.filter(r=>r.canUseUntrained).map(r=>r.name);const allSkillMap={};allSkills.forEach(r=>allSkillMap[r.name]=r);const allSkillsMap=allSkillMap,classes={barbarian:new Class("\u91CE\u86EE\u4EBA",{hitDice:12,fortSave:SaveType.STRONG,refSave:SaveType.WEAK,willSave:SaveType.WEAK,bab:1,skills:[Climb,Craft,HandleAnimal,Intimidate,Jump,Listen,Ride,Survival,Swim],skillPointsEachLevel:4}),bard:new Class("\u541F\u6E38\u8BD7\u4EBA",{hitDice:6,fortSave:SaveType.WEAK,refSave:SaveType.STRONG,willSave:SaveType.STRONG,bab:.75,skills:[Appraise,Balance,Bluff,Climb,Concentration,Craft,DecipherScript,Diplomacy,Disguise,EscapeArtist,GatherInformation,Hide,Jump,Listen,MoveSilently,Perform,Profession,SenseMotive,SleightOfHand,SpeakLanguage,Spellcraft,Swim,Tumble,UseMagicDevice,...allKnowledges],skillPointsEachLevel:6}),circle:new Class("\u7267\u5E08",{hitDice:8,fortSave:SaveType.STRONG,refSave:SaveType.WEAK,willSave:SaveType.STRONG,bab:.75,skills:[Concentration,Craft,Diplomacy,Heal,ArcanaKnowledge,HistoryKnowledge,ReligionKnowledge,PlaneKnowledge,Profession,Spellcraft],skillPointsEachLevel:2}),druid:new Class("\u5FB7\u9C81\u4F0A",{hitDice:8,fortSave:SaveType.STRONG,refSave:SaveType.WEAK,willSave:SaveType.STRONG,bab:.75,skills:[Concentration,Craft,Diplomacy,HandleAnimal,Heal,NatureKnowledge,Listen,Profession,Ride,Spellcraft,Spot,Survival,Swim],skillPointsEachLevel:4}),fighter:new Class("\u6218\u58EB",{hitDice:10,fortSave:SaveType.STRONG,refSave:SaveType.WEAK,willSave:SaveType.WEAK,bab:1,skills:[Climb,Craft,HandleAnimal,Intimidate,Jump,Ride,Swim],skillPointsEachLevel:2}),monk:new Class("\u6B66\u50E7",{hitDice:8,fortSave:SaveType.STRONG,refSave:SaveType.STRONG,willSave:SaveType.STRONG,bab:.75,skillPointsEachLevel:4,skills:[Balance,Climb,Concentration,Craft,Diplomacy,EscapeArtist,Hide,Jump,ArcanaKnowledge,ReligionKnowledge,Listen,MoveSilently,Perform,Profession,SenseMotive,Spot,Swim,Tumble]}),paladin:new Class("\u5723\u6B66\u58EB",{hitDice:10,fortSave:SaveType.STRONG,refSave:SaveType.WEAK,willSave:SaveType.WEAK,bab:1,skills:[Concentration,Craft,Diplomacy,HandleAnimal,Heal,RoyalKnowledge,ReligionKnowledge,Profession,Ride,SenseMotive],skillPointsEachLevel:2}),ranger:new Class("\u5DE1\u6797\u5BA2",{hitDice:8,fortSave:SaveType.STRONG,refSave:SaveType.STRONG,willSave:SaveType.WEAK,bab:1,skillPointsEachLevel:6,skills:[Climb,Concentration,Craft,HandleAnimal,Heal,Hide,Jump,DungeoneeringKnowledge,GeographyKnowledge,NatureKnowledge,Listen,MoveSilently,Profession,Ride,Search,Spot,Survival,Swim,UseRope]}),rouge:new Class("\u6E38\u8361\u8005",{hitDice:6,fortSave:SaveType.WEAK,refSave:SaveType.STRONG,willSave:SaveType.WEAK,bab:.75,skillPointsEachLevel:8,skills:[Appraise,Balance,Bluff,Climb,Craft,DecipherScript,Diplomacy,DisableDevice,Disguise,EscapeArtist,Forgery,GatherInformation,Hide,Intimidate,Jump,LocalKnowledge,Listen,MoveSilently,OpenLock,Perform,Profession,Search,SenseMotive,SleightOfHand,Spot,Swim,Tumble,UseMagicDevice,UseRope]}),sorcerer:new Class("\u672F\u58EB",{hitDice:4,fortSave:SaveType.WEAK,refSave:SaveType.WEAK,willSave:SaveType.STRONG,bab:.5,skillPointsEachLevel:2,skills:[Bluff,Concentration,Craft,ArcanaKnowledge,Profession,Spellcraft]}),wizard:new Class("\u6CD5\u5E08",{hitDice:4,fortSave:SaveType.WEAK,refSave:SaveType.WEAK,willSave:SaveType.STRONG,bab:.5,skillPointsEachLevel:2,skills:[Concentration,Craft,DecipherScript,...allKnowledges,Profession]})};function getClassByName(r){return Object.values(classes).find(a=>a.name===r)}class Ability{constructor(a){u(this,"base",10);u(this,"race",0);u(this,"other",0);this.name=a}get ability(){return this.base+this.race+this.other}get modify(){return Math.floor((this.ability-10)/2)}print(){return{name:this.name,base:this.base,race:this.race,other:this.other,ability:this.ability,modify:this.modify}}inject({base:a,race:n,other:e}){this.base=a,this.race=n,this.other=e}}class Character{constructor(){u(this,"race",null);u(this,"align",null);u(this,"size","medium");u(this,"level",0);u(this,"classHitPoint",0);u(this,"height",5);u(this,"selfWeight",100);u(this,"STRENGTH",new Ability(Abilities.STR));u(this,"DEXTERITY",new Ability(Abilities.DEX));u(this,"CONSTITUTION",new Ability(Abilities.CON));u(this,"INTELLIGENCE",new Ability(Abilities.INT));u(this,"WISDOM",new Ability(Abilities.WIS));u(this,"CHARISMA",new Ability(Abilities.CHA));u(this,"skillPoints",0);u(this,"raceSkillPoint",0);u(this,"usedSkillPoints",0);u(this,"levelUpExp",0);u(this,"weightLimit",[]);u(this,"coinWeight",0);u(this,"weight",0);u(this,"weightDetail","\u8F7B\u8F7D");u(this,"skills",{});u(this,"classSkills",{});u(this,"armorSkillModify",0);u(this,"class",[{level:1}]);u(this,"customClass",[]);u(this,"fates",[{}]);u(this,"items",[{}]);u(this,"spells",[{}]);u(this,"pp",0);u(this,"gp",0);u(this,"sp",0);u(this,"cp",0);u(this,"exp",0);u(this,"hitPoint",0);u(this,"fortSave",0);u(this,"otherFortSave",0);u(this,"refSave",0);u(this,"otherRefSave",0);u(this,"willSave",0);u(this,"otherWillSave",0);u(this,"bab",0);u(this,"ac",{armor:0,other:0});u(this,"attacks",[{}]);u(this,"armors",[{}]);u(this,"traits",[{}]);u(this,"init",0);u(this,"otherInit",0);u(this,"grab",0);u(this,"otherGrab",0);u(this,"speed",30);u(this,"runSpeed",120);allSkills.forEach(a=>this.skills[a.name]={point:0,other:0})}set(a,n){this[a]=n}print(){const a=Object.assign({},this),{align:n,size:e,traits:s,fates:d,skills:S,classSkills:T,abilityModifiers:V,armorSkillModify:y,items:x,weightLimit:A,attacks:k,armors:N,spells:h}=a;return n&&(a.align=alignMap[n]),e&&(a.size=sizeMap[e]),a.fates=d.filter(o=>o.name||o.describe),a.traits=s.filter(o=>o.name||o.describe),a.attacks=k.filter(o=>o.name||o.describe),a.armors=N.filter(o=>o.name||o.describe),a.class=a.class.filter(o=>o.name),a.class=a.class.map(o=>`${o.name}*${o.level}`).join(" | "),a.items=x.filter(o=>o.name),a.magicItems=x.filter(o=>o.remark),a.skills=Object.keys(S).map(o=>{var b;const C=allSkillsMap[o],E=o in(T||{});return te(ee({name:o},S[o]),{isClassSkill:E?"\u221A":"",canUseUntrained:C.canUseUntrained?"":"*",modify:(b=this[allSkillsMap[o].baseAbility])==null?void 0:b.modify,total:C.getPoint(V||{},S[o],E,y)})}),a.weightLimit=[A[0],A[1]+1,A[2]+1],a.spells=h.filter(o=>o.spell).map((o,C)=>({name:C+"\u73AF",spell:o.spell})),Object.values(Abilities).forEach(o=>{a[o]=a[o].print()}),a}import(a){Object.values(Abilities).forEach(e=>{const s=a[e];a[e]=new Ability(e),a[e].inject(s)});function n(e,s){Object.keys(s).forEach(d=>{isObject(s[d])&&e[d]?n(e[d],s[d]):e[d]=s[d]})}n(this,a)}}const STRENGTH_WEIGHT_MAP={1:[4,6,10],2:[7,13,20],3:[11,20,30],4:[14,26,40],5:[17,33,50],6:[21,40,60],7:[24,46,70],8:[27,53,80],9:[31,60,90],10:[34,66,100],11:[39,76,115],12:[44,86,130],13:[51,100,150],14:[59,116,175],15:[67,133,200],16:[77,153,230],17:[87,173,260],18:[101,200,300],19:[117,233,350],20:[134,266,400],21:[154,306,460],22:[174,346,520],23:[201,400,600],24:[234,466,700],25:[267,533,800],26:[307,613,920],27:[347,693,1040],28:[401,800,1200],29:[467,933,1400]};function getWeightByStr(r){if(r<30)return STRENGTH_WEIGHT_MAP[r];const a=r%10,n=Math.floor(r/10)%10;return STRENGTH_WEIGHT_MAP["2"+a].map(e=>e*4*n)}class LocalStorage{constructor(a,n){u(this,"name","");this.name=a,this.limit=n;try{this.data=JSON.parse(localStorage.getItem(a))||[]}catch(e){setTimeout(()=>{message.error("\u6570\u636E\u52A0\u8F7D\u5931\u8D25")}),console.log("error when get localStorage data",a,e)}}save(){localStorage.setItem(this.name,JSON.stringify(this.data))}delete(a){this.data.splice(a,1),this.save()}add(a){this.limit&&this.data.length>this.limit&&this.data.pop(),this.data.unshift(JSON.parse(JSON.stringify(a))),this.save()}}function useModelWrapper(r,a,n="modelValue"){return computed({get:()=>r[n],set:e=>a(`update:${n}`,e)})}const _hoisted_1$2={class:"button-group"},_hoisted_2$2=createTextVNode("\u6DFB\u52A0\u4EBA\u7269\u804C\u4E1A"),_hoisted_3$2=createTextVNode("\u6DFB\u52A0\u804C\u4E1A\u6A21\u7248"),_hoisted_4$2=createTextVNode("\u67E5\u770B\u5DF2\u6709\u804C\u4E1A\u6A21\u7248"),_hoisted_5$2=createTextVNode("\u5BFC\u51FA\u804C\u4E1A\u6A21\u7248"),_hoisted_6$2=createTextVNode("\u5BFC\u5165\u804C\u4E1A\u6A21\u7248"),_hoisted_7$2=createTextVNode("\u5220\u9664"),_hoisted_8$2=createBaseVNode("div",null,"\u6E05\u9664\u6E38\u89C8\u5668\u7F13\u5B58\u4E5F\u4F1A\u6E05\u7A7A\u804C\u4E1A\u6A21\u7248\uFF0C\u8BB0\u5F97\u5BFC\u51FA\u3002",-1),_hoisted_9$2={key:0,style:{"margin-bottom":"1rem"}},_hoisted_10$2={class:"button-group"},_hoisted_11$2=createTextVNode("\u5220\u9664"),_sfc_main$2={props:{modelValue:Object,customClass:Object},emits:["update:modelValue","addClass","select"],setup(r,{emit:a}){const n=r,e=n.customClass,s=ref(!1),d=ref(!1),S=ref(!1),T=ref({}),V=ref(""),y=computed(()=>Object.values(classes).map(h=>({label:h.name,value:h.name})).concat(e?e.data.map(h=>({label:h.name,value:h.name})):[]));useModelWrapper(n,a);function x(){T.value.isCustom=!0;const h=new Class(T.value.name,T.value);e.add(h),T.value={level:1},s.value=!1}function A(){n.modelValue.push({level:1}),a("addClass")}function k(){try{const h=new Blob([JSON.stringify(e.data)],{type:"text/plain;charset=utf-8"}),o=document.createElement("a");o.href=URL.createObjectURL(h),o.download="\u804C\u4E1A\u6A21\u7248.txt",o.click()}catch(h){message.error("\u5BFC\u51FA\u5931\u8D25\uFF01"),console.log(h,JSON.stringify(e.data))}}function N(){try{const h=JSON.parse(V.value),o=e.data.map(C=>C.name);h.forEach(C=>{o.includes(C.name)||e.add(C)}),S.value=!1}catch(h){message.error("\u5BFC\u5165\u5931\u8D25\uFF01"),console.log(h,V.value)}}return(h,o)=>{const C=resolveComponent("a-button"),E=resolveComponent("a-select"),b=resolveComponent("a-form-item"),U=resolveComponent("a-input-number"),I=resolveComponent("a-form"),W=resolveComponent("a-input"),R=resolveComponent("a-checkbox-group"),O=resolveComponent("a-modal"),H=resolveComponent("a-popconfirm"),K=resolveComponent("a-textarea");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$2,[createVNode(C,{type:"primary",onClick:A},{default:withCtx(()=>[_hoisted_2$2]),_:1}),createVNode(C,{onClick:o[0]||(o[0]=()=>s.value=!0)},{default:withCtx(()=>[_hoisted_3$2]),_:1}),createVNode(C,{onClick:o[1]||(o[1]=()=>d.value=!0)},{default:withCtx(()=>[_hoisted_4$2]),_:1}),createVNode(C,{onClick:o[2]||(o[2]=()=>k())},{default:withCtx(()=>[_hoisted_5$2]),_:1}),createVNode(C,{onClick:o[3]||(o[3]=()=>S.value=!0)},{default:withCtx(()=>[_hoisted_6$2]),_:1})]),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.modelValue,(_,w)=>(openBlock(),createElementBlock("div",{key:w},[createVNode(I,{layout:"inline"},{default:withCtx(()=>[createVNode(b,{class:"cg-input__fix"},{default:withCtx(()=>[createVNode(E,{onChange:o[4]||(o[4]=B=>a("select")),value:_.name,"onUpdate:value":B=>_.name=B,"show-search":"",options:unref(y)},null,8,["value","onUpdate:value","options"])]),_:2},1024),createVNode(b,{label:"\u804C\u4E1A\u7B49\u7EA7",class:"cg-input__base_short"},{default:withCtx(()=>[createVNode(U,{value:_.level,"onUpdate:value":B=>_.level=B},null,8,["value","onUpdate:value"])]),_:2},1024),createVNode(b,null,{default:withCtx(()=>[createVNode(C,{onClick:B=>n.modelValue.splice(w,1)},{default:withCtx(()=>[_hoisted_7$2]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),createVNode(O,{visible:s.value,"onUpdate:visible":o[10]||(o[10]=_=>s.value=_),title:"\u65B0\u589E\u804C\u4E1A\u6A21\u7248",onOk:x},{default:withCtx(()=>[createVNode(I,{model:T.value},{default:withCtx(()=>[createVNode(b,{label:"\u540D\u79F0"},{default:withCtx(()=>[createVNode(W,{value:T.value.name,"onUpdate:value":o[5]||(o[5]=_=>T.value.name=_)},null,8,["value"])]),_:1}),createVNode(b,{label:"\u751F\u547D\u9AB0\u9762\u6570"},{default:withCtx(()=>[createVNode(E,{value:T.value.hitDice,"onUpdate:value":o[6]||(o[6]=_=>T.value.hitDice=_),options:[{label:"d12",value:12},{label:"d10",value:10},{label:"d8",value:8},{label:"d6",value:6},{label:"d4",value:4}]},null,8,["value"])]),_:1}),createVNode(b,{label:"bab"},{default:withCtx(()=>[createVNode(E,{value:T.value.bab,"onUpdate:value":o[7]||(o[7]=_=>T.value.bab=_),options:[{label:"\u6EE1Bab",value:unref(BabType).STRONG},{label:"0.75Bab",value:unref(BabType).MIDDLE},{label:"0.5Bab",value:unref(BabType).WEAK}]},null,8,["value","options"])]),_:1}),(openBlock(),createElementBlock(Fragment,null,renderList([["\u5F3A\u97E7\u8C41\u514D","fortSave"],["\u53CD\u5C04\u8C41\u514D","refSave"],["\u610F\u5FD7\u8C41\u514D","willSave"]],_=>createVNode(b,{key:_[1],label:_[0]},{default:withCtx(()=>[createVNode(E,{value:T.value[_[1]],"onUpdate:value":w=>T.value[_[1]]=w,options:[{label:"\u5F3A\u8C41\u514D",value:unref(SaveType).STRONG},{label:"\u5F31\u8C41\u514D",value:unref(SaveType).WEAK}]},null,8,["value","onUpdate:value","options"])]),_:2},1032,["label"])),64)),createVNode(b,{label:"\u672C\u804C\u6280\u80FD"},{default:withCtx(()=>[createVNode(R,{value:T.value.skills,"onUpdate:value":o[8]||(o[8]=_=>T.value.skills=_),options:unref(allSkills).map(_=>({label:_.name,value:_.name}))},null,8,["value","options"])]),_:1}),createVNode(b,{label:"\u6BCF\u7EA7\u6280\u80FD\u70B9\u6570\uFF08\u4E0D\u542B\u667A\u529B\u52A0\u503C\uFF09"},{default:withCtx(()=>[createVNode(U,{value:T.value.skillPointsEachLevel,"onUpdate:value":o[9]||(o[9]=_=>T.value.skillPointsEachLevel=_)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["visible"]),createVNode(O,{visible:d.value,"onUpdate:visible":o[11]||(o[11]=_=>d.value=_),title:"\u804C\u4E1A\u6A21\u7248",onOk:o[12]||(o[12]=_=>d.value=!1)},{default:withCtx(()=>[_hoisted_8$2,unref(e).data.length?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_9$2,"\u6CA1\u6709\u804C\u4E1A\u6A21\u7248")),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(e).data,(_,w)=>(openBlock(),createElementBlock("div",{class:"history-row",key:w},[createTextVNode(toDisplayString(_.name)+" ",1),createBaseVNode("div",_hoisted_10$2,[createVNode(H,{title:"\u786E\u8BA4\u5220\u9664\u5417\uFF1F","ok-text":"\u662F","cancel-text":"\u5426",onConfirm:()=>unref(e).delete(w)},{default:withCtx(()=>[createVNode(C,{size:"small",danger:""},{default:withCtx(()=>[_hoisted_11$2]),_:1})]),_:2},1032,["onConfirm"])])]))),128))]),_:1},8,["visible"]),createVNode(O,{visible:S.value,"onUpdate:visible":o[14]||(o[14]=_=>S.value=_),title:"\u5BFC\u5165\u804C\u4E1A\u6A21\u7248",onOk:N,onCancel:o[15]||(o[15]=_=>V.value="")},{default:withCtx(()=>[createVNode(K,{value:V.value,"onUpdate:value":o[13]||(o[13]=_=>V.value=_)},null,8,["value"])]),_:1},8,["visible"])],64)}}};var Card_vue_vue_type_style_index_0_lang="";const _hoisted_1$1=createTextVNode("\u5C3A"),_hoisted_2$1=createTextVNode("\u78C5"),_hoisted_3$1={class:"number__result"},_hoisted_4$1=createTextVNode("= "),_hoisted_5$1={class:"number__result"},_hoisted_6$1=createTextVNode("= "),_hoisted_7$1=createTextVNode("\u521D\u59CB\u503C + "),_hoisted_8$1=createTextVNode("\u79CD\u65CF\u8C03\u6574 + "),_hoisted_9$1=createTextVNode("\u5176\u5B83\u8C03\u6574 "),_hoisted_10$1={class:"number__result"},_hoisted_11$1=createTextVNode("= "),_hoisted_12$1=createTextVNode("\u521D\u59CB\u503C + "),_hoisted_13=createTextVNode("\u79CD\u65CF\u8C03\u6574 + "),_hoisted_14=createTextVNode("\u5176\u5B83\u8C03\u6574 "),_hoisted_15={class:"number__result"},_hoisted_16=createTextVNode("= "),_hoisted_17=createTextVNode("\u521D\u59CB\u503C + "),_hoisted_18=createTextVNode("\u79CD\u65CF\u8C03\u6574 + "),_hoisted_19=createTextVNode("\u5176\u5B83\u8C03\u6574 "),_hoisted_20={class:"number__result"},_hoisted_21=createTextVNode("= "),_hoisted_22=createTextVNode("\u521D\u59CB\u503C + "),_hoisted_23=createTextVNode("\u79CD\u65CF\u8C03\u6574 + "),_hoisted_24=createTextVNode("\u5176\u5B83\u8C03\u6574 "),_hoisted_25={class:"number__result"},_hoisted_26=createTextVNode("= "),_hoisted_27=createTextVNode("\u521D\u59CB\u503C + "),_hoisted_28=createTextVNode("\u79CD\u65CF\u8C03\u6574 + "),_hoisted_29=createTextVNode("\u5176\u5B83\u8C03\u6574 "),_hoisted_30={class:"number__result"},_hoisted_31=createTextVNode("= "),_hoisted_32=createTextVNode("\u521D\u59CB\u503C + "),_hoisted_33=createTextVNode("\u79CD\u65CF\u8C03\u6574 + "),_hoisted_34=createTextVNode("\u5176\u5B83\u8C03\u6574 "),_hoisted_35={class:"number__result"},_hoisted_36={class:"number__result"},_hoisted_37=createTextVNode(" = "),_hoisted_38=createBaseVNode("span",{class:"number__common"},"10",-1),_hoisted_39=createTextVNode("+ "),_hoisted_40=createTextVNode("\u76D4\u7532\u53CA\u76FE\u724C+ "),_hoisted_41={class:"number__common"},_hoisted_42=createTextVNode("\u654F\u6377+ "),_hoisted_43=createTextVNode("\u5176\u5B83 "),_hoisted_44=createBaseVNode("br",null,null,-1),_hoisted_45=createTextVNode(" \u63A5\u89E6\uFF1A"),_hoisted_46={class:"number__common"},_hoisted_47=createTextVNode(" \u63AA\u624B\u4E0D\u53CA\uFF1A"),_hoisted_48={class:"number__common"},_hoisted_49={class:"number__result"},_hoisted_50=createTextVNode("="),_hoisted_51={class:"number__common"},_hoisted_52=createTextVNode("\u654F\u6377 +"),_hoisted_53=createTextVNode("\u5176\u5B83 "),_hoisted_54={class:"number__result"},_hoisted_55=createTextVNode(" = "),_hoisted_56={class:"number__common"},_hoisted_57=createTextVNode("bab + "),_hoisted_58={class:"number__common"},_hoisted_59=createTextVNode("\u529B\u91CF + "),_hoisted_60={class:"number__common"},_hoisted_61=createTextVNode("\u4F53\u578B + "),_hoisted_62=createTextVNode("\u5176\u5B83 "),_hoisted_63={class:"number__result"},_hoisted_64=createTextVNode(" = "),_hoisted_65={class:"number__common"},_hoisted_66=createTextVNode("\u57FA\u7840 + "),_hoisted_67=createTextVNode("\u5176\u5B83 "),_hoisted_68={class:"number__result"},_hoisted_69=createTextVNode(" = "),_hoisted_70={class:"number__common"},_hoisted_71=createTextVNode("\u57FA\u7840 + "),_hoisted_72=createTextVNode("\u5176\u5B83"),_hoisted_73={class:"number__result"},_hoisted_74=createTextVNode(" = "),_hoisted_75={class:"number__common"},_hoisted_76=createTextVNode("\u57FA\u7840 + "),_hoisted_77=createTextVNode("\u5176\u5B83"),_hoisted_78=createTextVNode(" \u5954\u8DD1"),_hoisted_79=createTextVNode("%"),_hoisted_80=createTextVNode("\u5C3A"),_hoisted_81=createTextVNode("\u672C\u804C\u6280\u80FD"),_hoisted_82={class:"number__result"},_hoisted_83=createTextVNode(" = "),_hoisted_84={key:0,class:"number__common"},_hoisted_85=createTextVNode(" + "),_hoisted_86={class:"number__common"},_hoisted_87=createTextVNode("\u5176\u5B83 "),_hoisted_88={class:"number__common"},_hoisted_89={class:"number__result"},_hoisted_90=createTextVNode("\u679A\uFF0C "),_hoisted_91={class:"number__result"},_hoisted_92=createTextVNode("gp\uFF0C "),_hoisted_93={class:"number__result"},_hoisted_94=createTextVNode("\u78C5 "),_hoisted_95={class:"number__result"},_hoisted_96=createBaseVNode("br",null,null,-1),_hoisted_97=createTextVNode(" \u8F7B\u8F7D\uFF1A"),_hoisted_98={class:"number__common"},_hoisted_99=createTextVNode(" \u4E2D\u8F7D\uFF1A"),_hoisted_100={class:"number__common"},_hoisted_101=createTextVNode(" \u91CD\u8F7D\uFF1A"),_hoisted_102={class:"number__common"},_sfc_main$1={props:{modelValue:Object},emits:["update:modelValue"],setup(r,{emit:a}){const e=useModelWrapper(r,a),s=computed(()=>({STRENGTH:e.value.STRENGTH.modify,DEXTERITY:e.value.DEXTERITY.modify,CONSTITUTION:e.value.CONSTITUTION.modify,INTELLIGENCE:e.value.INTELLIGENCE.modify,WISDOM:e.value.WISDOM.modify,CHARISMA:e.value.CHARISMA.modify})),d=ref(["base","class","abilities","skills","fates","traits","items","spells","attacks","armors"]),S=ref(new LocalStorage("customClass"));function T(c){if(!c.name)return null;const l=c.level;if(!(c instanceof Class)){let v=S.value.data.find(i=>i.name===c.name)||e.value.customClass.find(i=>i.name===c.name);v?c=v:c=getClassByName(c.name)}return c||message.error("\u83B7\u53D6\u804C\u4E1A\u4FE1\u606F\u5931\u8D25\uFF01\u8BF7\u8054\u7CFB\u5F00\u53D1\u8005"),c.level=l,c}const V=computed(()=>e.value.class.filter(c=>c.name).map(c=>T(c))),y=computed(()=>V.value.reduce((c,l)=>c+l.level,0));function x(c,l){if(c===SaveType.STRONG)return Math.floor((l*5+20)/10);if(c===SaveType.WEAK)return Math.floor(l/3)}const A=c=>computed(()=>V.value.reduce((l,v)=>v?l+x(v[c],v.level):l,0)),k=computed(()=>V.value.reduce((c,l)=>l?c+Math.floor(l.level*l.bab):c,0)),N=A("fortSave"),h=A("refSave"),o=A("willSave"),C=computed(()=>N.value+e.value.otherFortSave+e.value.CONSTITUTION.modify),E=computed(()=>h.value+e.value.otherRefSave+e.value.DEXTERITY.modify),b=computed(()=>o.value+e.value.otherWillSave+e.value.WISDOM.modify),U=computed(()=>V.value.reduce((c,l)=>c+l.level||0,3)),I=computed({get:()=>e.value.classSkills,set:c=>e.value.classSkills=c}),W=function(){nextTick(()=>{I.value={},V.value.forEach(c=>{c.skills.forEach(l=>{typeof l!="string"&&(l=l.name),!(l in I.value)&&(I.value[l]=!0)})})})},R=computed(()=>{let c=0,l=V.value.slice(),v=l.shift();if(v)c=(v.skillPointsEachLevel+s.value.INTELLIGENCE+e.value.raceSkillPoint)*(v.level+3);else return 0;return l.forEach(i=>{c+=(i.skillPointsEachLevel+s.value.INTELLIGENCE+e.value.raceSkillPoint)*i.level}),c}),O=computed(()=>Object.values(e.value.skills).reduce((c,l)=>c+l.point,0)),H=computed(()=>{const c=e.value.class.reduce((l,v)=>v.level+l,0);return Math.round(500*c*c+500*c)});function K(c,l){R.value-O.value<0&&(message.error("\u6CA1\u6709\u6280\u80FD\u70B9\u4E86"),e.value.skills[l.name].point=c-1)}const _=(c,l)=>{watch(c,()=>{c.find(v=>!v[l])||c.push({})},{deep:!0})};_(e.value.fates,"name"),_(e.value.traits,"name"),_(e.value.items,"name"),_(e.value.spells,"spell"),_(e.value.attacks,"name"),_(e.value.armors,"name");const w=computed(()=>getWeightByStr(e.value.STRENGTH.ability)),B=computed(()=>((e.value.pp+e.value.gp+e.value.sp+e.value.cp)/50).toFixed(2)),L=computed(()=>{let c=0,l=+B.value;return e.value.items.forEach(v=>{const i=v.weight*v.count||0;e.value.armors.find(G=>G.name===v.name)?c+=i:l+=i}),console.log("armors",c,"item",l),c>l?c:l}),F=computed(()=>L.value<w.value[0]?"\u8F7B\u8F7D":L.value<=w.value[1]?"\u4E2D\u8F7D":L.value<=w.value[2]?"\u91CD\u8F7D":"\u8D85\u91CD"),X=computed(()=>(e.value.classHitPoint||0)+e.value.CONSTITUTION.modify*y.value),j=computed(()=>e.value.ac.armor+e.value.DEXTERITY.modify+e.value.ac.other+10),Y=computed(()=>e.value.DEXTERITY.modify+10),z=computed(()=>e.value.ac.armor+10+e.value.ac.other),J=computed(()=>e.value.otherInit+e.value.DEXTERITY.modify),Z=computed(()=>sizeModifyMap[e.value.size]*4+e.value.STRENGTH.modify+k.value+e.value.otherGrab);return watchEffect(()=>{const c={bab:k,fortSave:N,refSave:h,willSave:o,skillMax:U,skillPoints:R,usedSkillPoints:O,levelUpExp:H,weightLimit:w,coinWeight:B,weight:L,weightDetail:F,level:y,hitPoint:X,totalAc:j,touchAc:Y,flatFootAc:z,init:J,grab:Z,totalFortSave:C,totalRefSave:E,totalWillSave:b,classSkills:I,abilityModifiers:s,weightLimit:w};Object.keys(c).forEach(v=>e.value.set(v,c[v].value));const l=V.value.filter(v=>v.isCustom);l.length&&(e.value.customClass=l)}),(c,l)=>{const v=resolveComponent("a-input"),i=resolveComponent("a-form-item"),G=resolveComponent("a-select-option"),q=resolveComponent("a-select"),f=resolveComponent("a-input-number"),M=resolveComponent("a-form"),D=resolveComponent("a-collapse-panel"),ae=resolveComponent("a-checkbox"),$=resolveComponent("a-textarea"),le=resolveComponent("a-collapse");return openBlock(),createBlock(le,{activeKey:d.value,"onUpdate:activeKey":l[42]||(l[42]=t=>d.value=t)},{default:withCtx(()=>[createVNode(D,{key:"base",header:"\u57FA\u7840\u4FE1\u606F"},{default:withCtx(()=>[createVNode(M,{model:unref(e),layout:"inline"},{default:withCtx(()=>[createVNode(i,{label:"\u59D3\u540D",class:"cg-input__base"},{default:withCtx(()=>[createVNode(v,{value:unref(e).name,"onUpdate:value":l[0]||(l[0]=t=>unref(e).name=t)},null,8,["value"])]),_:1}),createVNode(i,{label:"\u79CD\u65CF",class:"cg-input__base"},{default:withCtx(()=>[createVNode(v,{value:unref(e).race,"onUpdate:value":l[1]||(l[1]=t=>unref(e).race=t)},null,8,["value"])]),_:1}),createVNode(i,{label:"\u4F53\u578B",class:"cg-input__fix"},{default:withCtx(()=>[createVNode(q,{value:unref(e).size,"onUpdate:value":l[2]||(l[2]=t=>unref(e).size=t)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(sizes),t=>(openBlock(),createBlock(G,{key:t.value,value:t.value},{default:withCtx(()=>[createTextVNode(toDisplayString(t.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),createVNode(i,{label:"\u6027\u522B",class:"cg-input__base"},{default:withCtx(()=>[createVNode(v,{value:unref(e).sex,"onUpdate:value":l[3]||(l[3]=t=>unref(e).sex=t)},null,8,["value"])]),_:1}),createVNode(i,{label:"\u5E74\u9F84",class:"cg-input__base"},{default:withCtx(()=>[createVNode(v,{value:unref(e).age,"onUpdate:value":l[4]||(l[4]=t=>unref(e).age=t)},null,8,["value"])]),_:1}),createVNode(i,{label:"\u9635\u8425",class:"cg-input__fix"},{default:withCtx(()=>[createVNode(q,{value:unref(e).align,"onUpdate:value":l[5]||(l[5]=t=>unref(e).align=t)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(aligns),t=>(openBlock(),createBlock(G,{key:t.value,value:t.value},{default:withCtx(()=>[createTextVNode(toDisplayString(t.label),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),createVNode(i,{label:"\u7ECF\u9A8C",class:"cg-input__base exp"},{default:withCtx(()=>[createVNode(v,{value:unref(e).exp,"onUpdate:value":l[6]||(l[6]=t=>unref(e).exp=t)},null,8,["value"]),createTextVNode("/"+toDisplayString(unref(H)),1)]),_:1}),createVNode(i,{label:"\u8EAB\u9AD8"},{default:withCtx(()=>[createVNode(f,{value:unref(e).height,"onUpdate:value":l[7]||(l[7]=t=>unref(e).height=t),step:"0.1"},null,8,["value"]),_hoisted_1$1]),_:1}),createVNode(i,{label:"\u4F53\u91CD"},{default:withCtx(()=>[createVNode(f,{value:unref(e).selfWeight,"onUpdate:value":l[8]||(l[8]=t=>unref(e).selfWeight=t)},null,8,["value"]),_hoisted_2$1]),_:1}),createVNode(i,{label:"\u4FE1\u4EF0",class:"cg-input__base"},{default:withCtx(()=>[createVNode(v,{value:unref(e).religion,"onUpdate:value":l[9]||(l[9]=t=>unref(e).religion=t)},null,8,["value"])]),_:1}),createVNode(i,{label:"\u8BED\u8A00",class:"cg-input__base_long"},{default:withCtx(()=>[createVNode(v,{value:unref(e).language,"onUpdate:value":l[10]||(l[10]=t=>unref(e).language=t)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1}),createVNode(D,{key:"class",header:"\u804C\u4E1A"},{default:withCtx(()=>[createVNode(_sfc_main$2,{modelValue:unref(e).class,"onUpdate:modelValue":l[11]||(l[11]=t=>unref(e).class=t),"custom-class":S.value,onSelect:W},null,8,["modelValue","custom-class"])]),_:1}),createVNode(D,{key:"abilities",header:"\u5C5E\u6027"},{default:withCtx(()=>[createVNode(M,{model:unref(e)},{default:withCtx(()=>[createVNode(i,{label:"\u751F\u547D\u503C"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_3$1,toDisplayString(unref(X)),1),_hoisted_4$1,createVNode(f,{value:unref(e).classHitPoint,"onUpdate:value":l[12]||(l[12]=t=>unref(e).classHitPoint=t)},null,8,["value"]),createTextVNode(toDisplayString(unref(V).length?"("+unref(V).reduce((t,g)=>t+`${g.level}d${g.hitDice}+`,"").slice(0,-1)+")":"")+toDisplayString(unref(e).CONSTITUTION.modify?`+${unref(e).CONSTITUTION.modify}*${unref(y)}`:""),1)]),_:1}),createVNode(i,{label:"\u529B\u91CF"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_5$1,toDisplayString(unref(e).STRENGTH.ability),1),_hoisted_6$1,createVNode(f,{value:unref(e).STRENGTH.base,"onUpdate:value":l[13]||(l[13]=t=>unref(e).STRENGTH.base=t)},null,8,["value"]),_hoisted_7$1,createVNode(f,{value:unref(e).STRENGTH.race,"onUpdate:value":l[14]||(l[14]=t=>unref(e).STRENGTH.race=t)},null,8,["value"]),_hoisted_8$1,createVNode(f,{value:unref(e).STRENGTH.other,"onUpdate:value":l[15]||(l[15]=t=>unref(e).STRENGTH.other=t)},null,8,["value"]),_hoisted_9$1]),_:1}),createVNode(i,{label:"\u654F\u6377"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_10$1,toDisplayString(unref(e).DEXTERITY.ability),1),_hoisted_11$1,createVNode(f,{value:unref(e).DEXTERITY.base,"onUpdate:value":l[16]||(l[16]=t=>unref(e).DEXTERITY.base=t)},null,8,["value"]),_hoisted_12$1,createVNode(f,{value:unref(e).DEXTERITY.race,"onUpdate:value":l[17]||(l[17]=t=>unref(e).DEXTERITY.race=t)},null,8,["value"]),_hoisted_13,createVNode(f,{value:unref(e).DEXTERITY.other,"onUpdate:value":l[18]||(l[18]=t=>unref(e).DEXTERITY.other=t)},null,8,["value"]),_hoisted_14]),_:1}),createVNode(i,{label:"\u4F53\u8D28"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_15,toDisplayString(unref(e).CONSTITUTION.ability),1),_hoisted_16,createVNode(f,{value:unref(e).CONSTITUTION.base,"onUpdate:value":l[19]||(l[19]=t=>unref(e).CONSTITUTION.base=t)},null,8,["value"]),_hoisted_17,createVNode(f,{value:unref(e).CONSTITUTION.race,"onUpdate:value":l[20]||(l[20]=t=>unref(e).CONSTITUTION.race=t)},null,8,["value"]),_hoisted_18,createVNode(f,{value:unref(e).CONSTITUTION.other,"onUpdate:value":l[21]||(l[21]=t=>unref(e).CONSTITUTION.other=t)},null,8,["value"]),_hoisted_19]),_:1}),createVNode(i,{label:"\u667A\u529B"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_20,toDisplayString(unref(e).INTELLIGENCE.ability),1),_hoisted_21,createVNode(f,{value:unref(e).INTELLIGENCE.base,"onUpdate:value":l[22]||(l[22]=t=>unref(e).INTELLIGENCE.base=t)},null,8,["value"]),_hoisted_22,createVNode(f,{value:unref(e).INTELLIGENCE.race,"onUpdate:value":l[23]||(l[23]=t=>unref(e).INTELLIGENCE.race=t)},null,8,["value"]),_hoisted_23,createVNode(f,{value:unref(e).INTELLIGENCE.other,"onUpdate:value":l[24]||(l[24]=t=>unref(e).INTELLIGENCE.other=t)},null,8,["value"]),_hoisted_24]),_:1}),createVNode(i,{label:"\u611F\u77E5"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_25,toDisplayString(unref(e).WISDOM.ability),1),_hoisted_26,createVNode(f,{value:unref(e).WISDOM.base,"onUpdate:value":l[25]||(l[25]=t=>unref(e).WISDOM.base=t)},null,8,["value"]),_hoisted_27,createVNode(f,{value:unref(e).WISDOM.race,"onUpdate:value":l[26]||(l[26]=t=>unref(e).WISDOM.race=t)},null,8,["value"]),_hoisted_28,createVNode(f,{value:unref(e).WISDOM.other,"onUpdate:value":l[27]||(l[27]=t=>unref(e).WISDOM.other=t)},null,8,["value"]),_hoisted_29]),_:1}),createVNode(i,{label:"\u9B45\u529B"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_30,toDisplayString(unref(e).CHARISMA.ability),1),_hoisted_31,createVNode(f,{value:unref(e).CHARISMA.base,"onUpdate:value":l[28]||(l[28]=t=>unref(e).CHARISMA.base=t)},null,8,["value"]),_hoisted_32,createVNode(f,{value:unref(e).CHARISMA.race,"onUpdate:value":l[29]||(l[29]=t=>unref(e).CHARISMA.race=t)},null,8,["value"]),_hoisted_33,createVNode(f,{value:unref(e).CHARISMA.other,"onUpdate:value":l[30]||(l[30]=t=>unref(e).CHARISMA.other=t)},null,8,["value"]),_hoisted_34]),_:1}),createVNode(i,{label:"bab"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_35,toDisplayString(unref(k)),1)]),_:1}),createVNode(i,{label:"ac"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_36,toDisplayString(unref(j)),1),_hoisted_37,_hoisted_38,_hoisted_39,createVNode(f,{value:unref(e).ac.armor,"onUpdate:value":l[31]||(l[31]=t=>unref(e).ac.armor=t)},null,8,["value"]),_hoisted_40,createBaseVNode("span",_hoisted_41,toDisplayString(unref(e).DEXTERITY.modify),1),_hoisted_42,createVNode(f,{value:unref(e).ac.other,"onUpdate:value":l[32]||(l[32]=t=>unref(e).ac.other=t)},null,8,["value"]),_hoisted_43,_hoisted_44,_hoisted_45,createBaseVNode("span",_hoisted_46,toDisplayString(unref(Y)),1),_hoisted_47,createBaseVNode("span",_hoisted_48,toDisplayString(unref(z)),1)]),_:1}),createVNode(i,{label:"\u5148\u653B"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_49,toDisplayString(unref(J)),1),_hoisted_50,createBaseVNode("span",_hoisted_51,toDisplayString(unref(e).DEXTERITY.modify),1),_hoisted_52,createVNode(f,{value:unref(e).otherInit,"onUpdate:value":l[33]||(l[33]=t=>unref(e).otherInit=t)},null,8,["value"]),_hoisted_53]),_:1}),createVNode(i,{label:"\u64D2\u62B1"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_54,toDisplayString(unref(Z)),1),_hoisted_55,createBaseVNode("span",_hoisted_56,toDisplayString(unref(k)),1),_hoisted_57,createBaseVNode("span",_hoisted_58,toDisplayString(unref(e).STRENGTH.modify),1),_hoisted_59,createBaseVNode("span",_hoisted_60,toDisplayString(unref(sizeModifyMap)[unref(e).size]*4),1),_hoisted_61,createVNode(f,{value:unref(e).otherGrab,"onUpdate:value":l[34]||(l[34]=t=>unref(e).otherGrab=t)},null,8,["value"]),_hoisted_62]),_:1}),createVNode(i,{label:"\u5F3A\u97E7\u8C41\u514D"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_63,toDisplayString(unref(C)),1),_hoisted_64,createBaseVNode("span",_hoisted_65,toDisplayString(unref(N)),1),_hoisted_66,createVNode(f,{value:unref(e).otherFortSave,"onUpdate:value":l[35]||(l[35]=t=>unref(e).otherFortSave=t)},null,8,["value"]),_hoisted_67]),_:1}),createVNode(i,{label:"\u53CD\u5C04\u8C41\u514D"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_68,toDisplayString(unref(E)),1),_hoisted_69,createBaseVNode("span",_hoisted_70,toDisplayString(unref(h)),1),_hoisted_71,createVNode(f,{value:unref(e).otherRefSave,"onUpdate:value":l[36]||(l[36]=t=>unref(e).otherRefSave=t)},null,8,["value"]),_hoisted_72]),_:1}),createVNode(i,{label:"\u610F\u5FD7\u8C41\u514D"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_73,toDisplayString(unref(b)),1),_hoisted_74,createBaseVNode("span",_hoisted_75,toDisplayString(unref(o)),1),_hoisted_76,createVNode(f,{value:unref(e).otherWillSave,"onUpdate:value":l[37]||(l[37]=t=>unref(e).otherWillSave=t)},null,8,["value"]),_hoisted_77]),_:1}),createVNode(i,{label:"\u901F\u5EA6"},{default:withCtx(()=>[createVNode(f,{value:unref(e).speed,"onUpdate:value":l[38]||(l[38]=t=>unref(e).speed=t)},null,8,["value"]),_hoisted_78,createVNode(f,{value:unref(e).runSpeed,"onUpdate:value":l[39]||(l[39]=t=>unref(e).runSpeed=t)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1}),createVNode(D,{key:"attacks",header:"\u653B\u51FB"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(e).attacks,(t,g)=>(openBlock(),createBlock(M,{layout:"inline",key:g},{default:withCtx(()=>[createVNode(i,{class:"cg-input__base",label:"\u6B66\u5668"},{default:withCtx(()=>[createVNode(v,{placeholder:"\u6B66\u5668",value:t.name,"onUpdate:value":m=>t.name=m},null,8,["value","onUpdate:value"])]),_:2},1024),createVNode(i,{class:"cg-input__base",label:"\u653B\u51FB\u68C0\u5B9A"},{default:withCtx(()=>[createVNode(v,{placeholder:"\u653B\u51FB\u68C0\u5B9A",value:t.attackRoll,"onUpdate:value":m=>t.attackRoll=m},null,8,["value","onUpdate:value"])]),_:2},1024),createVNode(i,{class:"cg-input__base",label:"\u4F24\u5BB3\u9AB0"},{default:withCtx(()=>[createVNode(v,{placeholder:"\u4F24\u5BB3\u9AB0",value:t.damage,"onUpdate:value":m=>t.damage=m},null,8,["value","onUpdate:value"])]),_:2},1024),createVNode(i,{class:"cg-input__base",label:"\u91CD\u51FB"},{default:withCtx(()=>[createVNode(v,{placeholder:"\u91CD\u51FB",value:t.critical,"onUpdate:value":m=>t.critical=m},null,8,["value","onUpdate:value"])]),_:2},1024),createVNode(i,{label:"\u5C04\u7A0B"},{default:withCtx(()=>[createVNode(f,{value:t.range,"onUpdate:value":m=>t.range=m},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),createVNode(D,{key:"armors",header:"\u76D4\u7532",class:"section__armor"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(e).armors,(t,g)=>(openBlock(),createBlock(M,{layout:"inline",key:g},{default:withCtx(()=>[createVNode(i,{label:"\u540D\u79F0"},{default:withCtx(()=>[createVNode(v,{value:t.name,"onUpdate:value":m=>t.name=m,style:{width:"6rem"}},null,8,["value","onUpdate:value"])]),_:2},1024),createVNode(i,{label:"\u76D4\u7532\u548C\u76FE\u724C\u52A0\u503C"},{default:withCtx(()=>[createVNode(f,{value:t.bonus,"onUpdate:value":m=>t.bonus=m},null,8,["value","onUpdate:value"])]),_:2},1024),createVNode(i,{label:"\u6700\u5927\u654F\u6377\u52A0\u503C"},{default:withCtx(()=>[createVNode(f,{value:t.maxDex,"onUpdate:value":m=>t.maxDex=m},null,8,["value","onUpdate:value"])]),_:2},1024),createVNode(i,{label:"\u9632\u5177\u68C0\u5B9A\u51CF\u503C"},{default:withCtx(()=>[createVNode(f,{value:t.checkPenalty,"onUpdate:value":m=>t.checkPenalty=m},null,8,["value","onUpdate:value"])]),_:2},1024),createVNode(i,{label:"\u5965\u672F\u5931\u8D25\u51E0\u7387"},{default:withCtx(()=>[createVNode(f,{value:t.arcaneFailure,"onUpdate:value":m=>t.arcaneFailure=m},null,8,["value","onUpdate:value"]),_hoisted_79]),_:2},1024),createVNode(i,{label:"\u901F\u5EA6"},{default:withCtx(()=>[createVNode(f,{value:t.speed,"onUpdate:value":m=>t.speed=m},null,8,["value","onUpdate:value"]),_hoisted_80]),_:2},1024)]),_:2},1024))),128))]),_:1}),createVNode(D,{class:"section__skills",key:"skills",header:"\u6280\u80FD"},{default:withCtx(()=>[createVNode(i,{label:"\u79CD\u65CF\u5956\u52B1\u6280\u80FD\u70B9"},{default:withCtx(()=>[createVNode(f,{value:unref(e).raceSkillPoint,"onUpdate:value":l[40]||(l[40]=t=>unref(e).raceSkillPoint=t),min:0},null,8,["value"])]),_:1}),createVNode(i,{label:"\u76D4\u7532\u51CF\u503C"},{default:withCtx(()=>[createVNode(f,{value:unref(e).armorSkillModify,"onUpdate:value":l[41]||(l[41]=t=>unref(e).armorSkillModify=t),min:0},null,8,["value"])]),_:1}),createVNode(i,null,{default:withCtx(()=>[createTextVNode("\u5269\u4F59\u6280\u80FD\u70B9\u6570\uFF1A"+toDisplayString(unref(R)-unref(O))+"/"+toDisplayString(unref(R)),1)]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(allSkills),t=>(openBlock(),createBlock(i,{key:t.name,label:t.name},{default:withCtx(()=>[createVNode(ae,{checked:unref(I)[t.name],"onUpdate:checked":g=>unref(I)[t.name]=g},{default:withCtx(()=>[_hoisted_81]),_:2},1032,["checked","onUpdate:checked"]),createBaseVNode("span",_hoisted_82,toDisplayString(t.getPoint(unref(s),unref(e).skills[t.name],unref(I)[t.name],unref(e).armorSkillModify)),1),_hoisted_83,createVNode(f,{value:unref(e).skills[t.name].point,"onUpdate:value":g=>unref(e).skills[t.name].point=g,onChange:g=>K(g,t),max:unref(U),min:0},null,8,["value","onUpdate:value","onChange","max"]),unref(e).skills[t.name].point?(openBlock(),createElementBlock("span",_hoisted_84,"("+toDisplayString(t.name in unref(I)&&unref(I)[t.name]?unref(e).skills[t.name].point:Math.floor(unref(e).skills[t.name].point/2))+")",1)):createCommentVNode("",!0),_hoisted_85,createBaseVNode("span",_hoisted_86,toDisplayString(unref(s)[t.baseAbility]),1),createTextVNode(toDisplayString(unref(AbilityNameMap)[t.baseAbility])+" + ",1),createVNode(f,{value:unref(e).skills[t.name].other,"onUpdate:value":g=>unref(e).skills[t.name].other=g},null,8,["value","onUpdate:value"]),_hoisted_87,createBaseVNode("span",_hoisted_88,toDisplayString(t.armor?`- ${t.armor*unref(e).armorSkillModify}`:""),1),createTextVNode(toDisplayString(t.armor?"\u76D4\u7532\u51CF\u503C":""),1)]),_:2},1032,["label"]))),128))]),_:1}),createVNode(D,{key:"fates",header:"\u4E13\u957F"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(e).fates,(t,g)=>(openBlock(),createBlock(i,{class:"section-content__item",key:g},{default:withCtx(()=>[createVNode(v,{placeholder:"\u4E13\u957F\u540D",value:t.name,"onUpdate:value":m=>t.name=m},null,8,["value","onUpdate:value"]),createVNode($,{placeholder:"\u4E13\u957F\u63CF\u8FF0(\u975E\u5FC5\u586B)",value:t.describe,"onUpdate:value":m=>t.describe=m},null,8,["value","onUpdate:value"])]),_:2},1024))),128))]),_:1}),createVNode(D,{key:"traits",header:"\u79CD\u65CF\u7279\u6027\u4E0E\u804C\u4E1A\u80FD\u529B"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(e).traits,(t,g)=>(openBlock(),createBlock(i,{class:"section-content__item",key:g},{default:withCtx(()=>[createVNode(v,{placeholder:"\u7279\u6027",value:t.name,"onUpdate:value":m=>t.name=m},null,8,["value","onUpdate:value"]),createVNode($,{placeholder:"\u63CF\u8FF0(\u975E\u5FC5\u586B)",value:t.describe,"onUpdate:value":m=>t.describe=m},null,8,["value","onUpdate:value"])]),_:2},1024))),128))]),_:1}),createVNode(D,{key:"items",header:"\u7269\u54C1"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(e).items,(t,g)=>(openBlock(),createBlock(M,{layout:"inline",key:g},{default:withCtx(()=>[createVNode(i,{label:"\u7269\u54C1\u540D\u79F0"},{default:withCtx(()=>[createVNode(v,{value:t.name,"onUpdate:value":m=>t.name=m},null,8,["value","onUpdate:value"])]),_:2},1024),createVNode(i,{label:"\u6570\u91CF"},{default:withCtx(()=>[createVNode(f,{value:t.count,"onUpdate:value":m=>t.count=m},null,8,["value","onUpdate:value"])]),_:2},1024),createVNode(i,{label:"\u4EF7\u683C"},{default:withCtx(()=>[createVNode(v,{value:t.price,"onUpdate:value":m=>t.price=m},null,8,["value","onUpdate:value"])]),_:2},1024),createVNode(i,{label:"\u91CD\u91CF"},{default:withCtx(()=>[createVNode(v,{value:t.weight,"onUpdate:value":m=>t.weight=m},null,8,["value","onUpdate:value"])]),_:2},1024),createVNode(i,{label:"\u5907\u6CE8",style:{width:"100%"}},{default:withCtx(()=>[createVNode($,{value:t.remark,"onUpdate:value":m=>t.remark=m},null,8,["value","onUpdate:value"])]),_:2},1024)]),_:2},1024))),128)),(openBlock(),createElementBlock(Fragment,null,renderList(["pp","gp","sp","cp"],t=>createVNode(i,{style:{"margin-top":"1rem"},label:t,key:t},{default:withCtx(()=>[createVNode(f,{min:0,value:unref(e)[t],"onUpdate:value":g=>unref(e)[t]=g},null,8,["value","onUpdate:value"])]),_:2},1032,["label"])),64)),createVNode(i,{label:"\u8D27\u5E01"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_89,toDisplayString(unref(e).pp+unref(e).gp+unref(e).sp+unref(e).cp),1),_hoisted_90,createBaseVNode("span",_hoisted_91,toDisplayString((unref(e).pp*10+unref(e).gp+unref(e).sp/10+unref(e).cp/100).toFixed(2)),1),_hoisted_92,createBaseVNode("span",_hoisted_93,toDisplayString(unref(B)),1),_hoisted_94]),_:1}),createVNode(i,{label:"\u8D1F\u91CD"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_95,toDisplayString(unref(L))+"\u78C5, "+toDisplayString(unref(F)),1),_hoisted_96]),_:1}),createVNode(i,null,{default:withCtx(()=>[_hoisted_97,createBaseVNode("span",_hoisted_98,toDisplayString("<"+unref(w)[0]),1),_hoisted_99,createBaseVNode("span",_hoisted_100,toDisplayString("<"+(unref(w)[1]+1)),1),_hoisted_101,createBaseVNode("span",_hoisted_102,toDisplayString("<"+(unref(w)[2]+1)),1)]),_:1})]),_:1}),createVNode(D,{key:"spells",header:"\u6CD5\u672F"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(e).spells,(t,g)=>(openBlock(),createBlock(i,{key:g},{default:withCtx(()=>[createTextVNode(toDisplayString(g)+"\u73AF\uFF1A",1),createVNode($,{value:t.spell,"onUpdate:value":m=>t.spell=m},null,8,["value","onUpdate:value"])]),_:2},1024))),128))]),_:1})]),_:1},8,["activeKey"])}}};var App_vue_vue_type_style_index_0_lang="";const _hoisted_1={class:"nav"},_hoisted_2={class:"button-group"},_hoisted_3=createTextVNode("\u751F\u6210\u4EBA\u7269\u5361"),_hoisted_4=createTextVNode("\u5386\u53F2\u4EBA\u7269\u5361"),_hoisted_5=createTextVNode("\u4ECE\u6307\u7EB9\u5BFC\u5165\u4EBA\u7269\u5361"),_hoisted_6=createTextVNode(" D&D 3.5 \u4EBA\u7269\u5361\u751F\u6210\u5668 "),_hoisted_7={class:"wrapper"},_hoisted_8=createBaseVNode("div",{style:{"margin-bottom":"1rem"}},"\u6700\u591A\u4FDD\u5B5820\u5F20\u3002\u4E00\u65E6\u6E05\u9664\u6E38\u89C8\u5668\u7F13\u5B58\u4FBF\u4F1A\u6E05\u7A7A",-1),_hoisted_9={key:0},_hoisted_10={class:"button-group"},_hoisted_11=createTextVNode("\u6062\u590D"),_hoisted_12=createTextVNode("\u5220\u9664"),_sfc_main={setup(r){const a=ref(new Character),n=`
{{name}}
****************************************************************************
\u79CD\u65CF\uFF1A{{race}}
\u9635\u8425\uFF1A{{align}}
\u4F53\u578B\uFF1A{{size}}
\u5E74\u9F84\uFF1A{{age}}
\u6027\u522B\uFF1A{{sex}}
\u8BED\u8A00\uFF1A{{language}}
\u8EAB\u9AD8\uFF1A{{height}}\u5C3A
\u4F53\u91CD\uFF1A{{selfWeight}}\u78C5
\u4FE1\u4EF0\uFF1A{{religion}}
\u804C\u4E1A\uFF1A{{class}}
\u7B49\u7EA7\uFF1A{{level}}
\u7ECF\u9A8C\uFF1A{{exp}}/{{levelUpExp}}
****************************************************************************
    \u6700\u7EC8\u503C \u521D\u59CB\u503C    \u79CD\u65CF\u8C03\u6574\u503C    \u5176\u5B83\u8C03\u6574\u503C
\u529B\u91CF {{STRENGTH.ability}}\uFF08{{STRENGTH.modify}}\uFF09= {{STRENGTH.base}}       +{{STRENGTH.race}}          +{{STRENGTH.other}}
\u654F\u6377 {{DEXTERITY.ability}}\uFF08{{DEXTERITY.modify}}\uFF09= {{DEXTERITY.base}}       +{{DEXTERITY.race}}          +{{DEXTERITY.other}}
\u4F53\u8D28 {{CONSTITUTION.ability}}\uFF08{{CONSTITUTION.modify}}\uFF09= {{CONSTITUTION.base}}       +{{CONSTITUTION.race}}          +{{CONSTITUTION.other}}
\u667A\u529B {{INTELLIGENCE.ability}}\uFF08{{INTELLIGENCE.modify}}\uFF09= {{INTELLIGENCE.base}}       +{{INTELLIGENCE.race}}          +{{INTELLIGENCE.other}}
\u611F\u77E5 {{WISDOM.ability}}\uFF08{{WISDOM.modify}}\uFF09= {{WISDOM.base}}       +{{WISDOM.race}}          +{{WISDOM.other}}
\u9B45\u529B {{CHARISMA.ability}}\uFF08{{CHARISMA.modify}}\uFF09= {{CHARISMA.base}}       +{{CHARISMA.race}}          +{{CHARISMA.other}}
****************************************************************************
HP {{hitPoint}}
\u9632\u5FA1\u7B49\u7EA7 {{totalAc}}\uFF0C\u63A5\u89E6 {{touchAc}}\uFF0C\u63AA\u624B\u4E0D\u53CA {{flatFootAc}}

\u5148\u653B\u8C03\u6574		{{init}}
\u57FA\u672C\u653B\u51FB\u52A0\u503C	{{bab}}
\u64D2\u62B1		{{grab}}

\u5E73\u5E38\u901F\u5EA6{{speed}}\u5C3A \u5954\u8DD1\u901F\u5EA6{{runSpeed}}\u5C3A
****************************************************************************
\u5F3A\u97E7\u8C41\u514D    {{totalFortSave}} \uFF08{{CONSTITUTION.modify}}\u4F53\u8D28\u4FEE\u6B63+{{fortSave}}\u804C\u4E1A+{{otherFortSave}}\u5176\u5B83\uFF09

\u53CD\u5C04\u8C41\u514D    {{totalRefSave}} \uFF08{{DEXTERITY.modify}}\u654F\u6377\u4FEE\u6B63+{{refSave}}\u804C\u4E1A+{{otherRefSave}}\u5176\u5B83\uFF09

\u610F\u5FD7\u8C41\u514D    {{totalWillSave}} \uFF08{{WISDOM.modify}}\u611F\u77E5\u4FEE\u6B63+{{willSave}}\u804C\u4E1A+{{otherWIllSave}}\u5176\u5B83\uFF09
****************************************************************************
\u653B\u51FB\uFF1A
{% for a in attacks %}{{a.name}} \u653B\u51FB\uFF1A{{a.attackRoll}}, \u4F24\u5BB3\uFF1A{{a.damage}}, \u91CD\u51FB\uFF1A{{a.critical}}, \u5C04\u7A0B\uFF1A{{a.range}}

{% endfor %}
****************************************************************************
\u4E13\u957F\uFF1A
{% for fate in fates %}{{fate.name}}
{{fate.describe}}

{% endfor %}
***************************************************************************
\u76D4\u7532\uFF1A
{% for a in armors %}{{a.name}} \u52A0\u503C\uFF1A{{a.bonus}}, \u6700\u5927\u654F\u6377\uFF1A{{a.maxDex}}, \u9632\u5177\u51CF\u503C\uFF1A{{a.checkPenalty}}, \u5965\u8D25\uFF1A{{a.arcaneFailure}}, \u901F\u5EA6\uFF1A{{a.speed}}
{% endfor %}
****************************************************************************
\u79CD\u65CF\u7279\u6027\u4E0E\u804C\u4E1A\u80FD\u529B\uFF1A
{% for t in traits %}{{t.name}}
{{t.describe}}

{% endfor %}
***************************************************************************
\u6280\u80FD\u70B9\uFF1A{{skillPoints}}
\u6280\u80FD	\u5206\u914D\u70B9\u6570	\u6700\u7EC8\u503C{% for s in skills %}
{{s.isClassSkill}}{{s.name}}{{s.canUseUntrained}}	\uFF08{{s.point}}\uFF09	{{s.total}}{% endfor %}

* \u975E\u53D7\u8BAD\u6280\u80FD
\u221A \u672C\u804C\u6280\u80FD
***************************************************************************
\u968F\u8EAB\u7269\u54C1\uFF1A
{% for i in items %}
{{i.name}}*{{i.count}} {{i.price}}gp {{i.weight}}\u78C5
{% endfor %}

\u8D27\u5E01\uFF1A
{{pp}}pp {{gp}}gp {{sp}}sp {{cp}}cp, \u8D27\u5E01\u603B\u91CD\uFF1A{{coinWeight}}\u78C5

\u8D1F\u91CD\uFF1A{{weight}}\u78C5, {{weightDetail}} 
\u8F7B\u8F7D\uFF1A< {{weightLimit.0}} \u4E2D\u8F7D < {{weightLimit.1}} \u91CD\u8F7D < {{weightLimit.2}}

\u7279\u6B8A\u7269\u54C1\uFF1A
{% for mi in magicItems %}{{mi.name}}
{{mi.remark}}

{% endfor %}
{% if spells.length %}
***************************************************************************
\u6CD5\u672F\uFF1A
{% for i in spells %}{{i.name}}\uFF1A{{i.spell}}

{% endfor %}
***************************************************************************
{% endif %}
`;let e=ref(new Template(n));const s=computed(()=>e.value&&e.value.render(a.value.print()));let d=ref(new LocalStorage("history",20));const S=computed(()=>LZUTF8.compress(new TextEncoder("utf-8").encode(JSON.stringify(a.value),"utf8"),{outputEncoding:"Base64"}));function T(){const k=new Blob([e.value.render(a.value.print()),`
-------- \u6307\u7EB9 --------
`,S.value],{type:"text/plain;charset=utf-8"}),N=document.createElement("a");N.href=URL.createObjectURL(k),N.download=a.value.name+".txt";try{d.value.add(a.value)}catch(h){setTimeout(()=>message.warn("\u50A8\u5B58\u5931\u8D25!")),console.log(h)}N.click()}const V=ref(!1),y=ref(!1),x=ref("");function A(){try{const k=LZUTF8.decompress(x.value,{inputEncoding:"Base64"});a.value.import(JSON.parse(k)),V.value=!1,x.value=""}catch(k){message.error("\u5BFC\u5165\u51FA\u9519!\u8BE5\u6307\u7EB9\u65E0\u6548"),console.log(k,x.value)}}return(k,N)=>{const h=resolveComponent("a-button"),o=resolveComponent("a-textarea"),C=resolveComponent("a-modal"),E=resolveComponent("a-popconfirm");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode(h,{style:{background:"#FEDFE1",color:"#08192D"},type:"primary",onClick:T},{default:withCtx(()=>[_hoisted_3]),_:1}),createVNode(h,{onClick:N[0]||(N[0]=()=>y.value=!0)},{default:withCtx(()=>[_hoisted_4]),_:1}),createVNode(h,{onClick:N[1]||(N[1]=()=>V.value=!0)},{default:withCtx(()=>[_hoisted_5]),_:1})]),_hoisted_6]),createBaseVNode("div",_hoisted_7,[createBaseVNode("div",null,[createVNode(_sfc_main$1,{modelValue:a.value,"onUpdate:modelValue":N[2]||(N[2]=b=>a.value=b)},null,8,["modelValue"])]),createBaseVNode("pre",null,""+toDisplayString(unref(s))+`
-------- \u6307\u7EB9 --------
`+toDisplayString(unref(S))+`
    `,1)]),createVNode(C,{visible:V.value,"onUpdate:visible":N[4]||(N[4]=b=>V.value=b),title:"\u4ECE\u6307\u7EB9\u5BFC\u5165",onOk:A,onCancel:N[5]||(N[5]=b=>x.value="")},{default:withCtx(()=>[createVNode(o,{value:x.value,"onUpdate:value":N[3]||(N[3]=b=>x.value=b)},null,8,["value"])]),_:1},8,["visible"]),createVNode(C,{visible:y.value,"onUpdate:visible":N[6]||(N[6]=b=>y.value=b),title:"\u5386\u53F2\u4EBA\u7269\u5361",onOk:N[7]||(N[7]=()=>y.value=!1)},{default:withCtx(()=>[_hoisted_8,unref(d).data.length?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_9,"\u8FD8\u6CA1\u6709\u521B\u5EFA\u4EBA\u7269\u5361")),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(d).data,(b,U)=>(openBlock(),createElementBlock("div",{class:"history-row",key:U},[createTextVNode(toDisplayString(U+1)+". "+toDisplayString(b.name)+" ",1),createBaseVNode("div",_hoisted_10,[createVNode(h,{size:"small",onClick:()=>a.value.import(b)},{default:withCtx(()=>[_hoisted_11]),_:2},1032,["onClick"]),createVNode(E,{title:"\u786E\u8BA4\u5220\u9664\u5417\uFF1F","ok-text":"\u662F","cancel-text":"\u5426",onConfirm:()=>unref(d).delete(U)},{default:withCtx(()=>[createVNode(h,{size:"small",danger:""},{default:withCtx(()=>[_hoisted_12]),_:1})]),_:2},1032,["onConfirm"])])]))),128))]),_:1},8,["visible"])],64)}}};var antd="";const cs=[AutoComplete,Button,Input,Form,Select,Collapse,Modal,Checkbox,InputNumber,Popconfirm],app=createApp(_sfc_main);cs.forEach(r=>app.use(r));app.config.globalProperties.$message=message;app.mount("#app");
